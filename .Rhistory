#( mbrs = numbers[1:(n_church*n_mbrs)] )
( churcheff = rnorm(n_church, 0, sds) )
( churcheff = rep(churcheff, each = n_mbrs) )
( mbrseff = rnorm(n_church*n_mbrs, 0, sd) )
( ATSS = b0 + b1*gender + b2*age + b3*education + b4*attendance + b5*homogeneity + churcheff + mbrseff)
( dat = data.frame(church, churcheff, mbrseff, gender, age, education, attendance, homogeneity, ATSS) )
library(dplyr)
dat <- dat %>% mutate(ID = row_number())
#moving the ID number to the first column; requires
dat <- dat%>%select(ID, everything())
Lefevor2020 <- dat%>%
select(ID, church, gender, age, education, attendance, homogeneity, ATSS)
#( dat$ATSS = with(dat, mu + churcheff + mbrseff ) )
View(Lefevor2020)
#rounded gender into dichotomous variable
Lefevor2020$Female0 <- round(Lefevor2020$gender, 0)
Lefevor2020$Female0 <- as.integer(Lefevor2020$gender)
View(Lefevor2020)
Lefevor2020$Female0 <- plyr::mapvalues(Lefevor2020$Female0, from = c(-1, 0, 1), to = c(0, 0, 1))
apa.cor.table(Lefevor2020)
library(apaTables)
apa.cor.table(Lefevor2020)
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(comment = NA) #keeps out the hashtags in the knits
set.seed(200407)
n_church = 15
n_mbrs = 15
b0 = 3.43 #intercept for ATSS
b1 = .14 #b weight for L1 var gender
b2 = .00 #b weight or L1 var age
b3 = .02 #b weight for L1 var education
b4 = .10 #b weight for the L1 variable religious attendance
b5 = -.89 #b weight for the L2 variable, racial homogeneity
( gender = runif(n_church*n_mbrs, -1.09, 1.67)) #calc L1 gender
( age = runif(n_church*n_mbrs, 6.44, 93.93)) #calc L1 age
( education = runif(n_church*n_mbrs, 0, 8.46)) #calc L1 education
( attendance = runif(n_church*n_mbrs,5.11, 10.39)) #calc L1 attendance by grabbing  its M +/- 3SD
( homogeneity = rep (runif(n_church, .37, 1.45), each = n_mbrs)) #calc L2 homogeneity by grabbing  its M +/- 3SD
mu = 3.39
sds = .64 #this is the SD of the DV
sd = 1 #this is the observation-level random effect variance that we set at 1
( church = rep(LETTERS[1:n_church], each = n_mbrs) )
#( mbrs = numbers[1:(n_church*n_mbrs)] )
( churcheff = rnorm(n_church, 0, sds) )
( churcheff = rep(churcheff, each = n_mbrs) )
( mbrseff = rnorm(n_church*n_mbrs, 0, sd) )
( ATSS = b0 + b1*gender + b2*age + b3*education + b4*attendance + b5*homogeneity + churcheff + mbrseff)
( dat = data.frame(church, churcheff, mbrseff, gender, age, education, attendance, homogeneity, ATSS) )
library(dplyr)
dat <- dat %>% mutate(ID = row_number())
#moving the ID number to the first column; requires
dat <- dat%>%select(ID, everything())
Lefevor2020 <- dat%>%
select(ID, church, gender, age, education, attendance, homogeneity, ATSS)
#rounded gender into dichotomous variable
Lefevor2020$Female0 <- round(Lefevor2020$gender, 0)
Lefevor2020$Female0 <- as.integer(Lefevor2020$gender)
Lefevor2020$Female0 <- plyr::mapvalues(Lefevor2020$Female0, from = c(-1, 0, 1), to = c(0, 0, 1))
#( dat$ATSS = with(dat, mu + churcheff + mbrseff ) )
library(apaTables)
apa.cor.table(Lefevor2020)
library(apaTables)
Lefever_cor <- Lefevor2020%>%select(-ID)
apa.cor.table(Lefever_cor)
library(apaTables)
Lefever_cor <- Lefevor2020%>%select(-ID, ATSS, Female0, age, education, attendance)
apa.cor.table(Lefever_cor)
library(apaTables)
Lefevor_cor <- Lefevor2020%>%select(-ID, ATSS, Female0, age, education, attendance)
col_order <- c("ATSS", "Female0", "age", "education", "attendance")
Lefevor_cor <- Lefevor_cor[, col_order]
apa.cor.table(Lefever_cor)
library(apaTables)
Lefevor_cor <- Lefevor2020%>%select(-ID, ATSS, Female0, age, education, attendance)
col_order <- c("ATSS", "Female0", "age", "education", "attendance")
Lefevor_cor <- Lefevor_cor[, col_order]
apa.cor.table(Lefevor_cor)
library(apaTables)
Lefevor_cor <- Lefevor2020%>%select(-ID, ATSS, Female0, age, education, attendance, homogeneity)
col_order <- c("ATSS", "Female0", "age", "education", "attendance", "homogeneity")
Lefevor_cor <- Lefevor_cor[, col_order]
apa.cor.table(Lefevor_cor)
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(comment = NA) #keeps out the hashtags in the knits
options(scipen=999)#eliminates scientific notation
#will install the package if not already installed
if(!require(lavaan)){install.packages("lavaan")}
if(!require(semPlot)){install.packages("semPlot")}
if(!require(tidyverse)){install.packages("tidyverse")}
if(!require(psych)){install.packages("psych")}
if(!require(jtools)){install.packages("jtools")}
# Range of gender
.29 - (.46*3)
.29 + (.46*3)
#Range of age
50.13 - (14.6*3)
50.13 + (14.6*3)
#Range of education
3.96 - (1.5*3)
3.96 + (1.5*3)
# Range of religious attendance (M +/- [3*SD])
7.75 - (.88*3)
7.75 + (.88*3)
# Range of racial homogeneity (M +/- [3*SD])
.91 - (.18*3)
.91 + (.18*3)
set.seed(200407)
n_church = 15
n_mbrs = 15
b0 = 3.43 #intercept for ATSS
b1 = .14 #b weight for L1 var gender
b2 = .00 #b weight or L1 var age
b3 = .02 #b weight for L1 var education
b4 = .10 #b weight for the L1 variable religious attendance
b5 = -.89 #b weight for the L2 variable, racial homogeneity
( gender = runif(n_church*n_mbrs, -1.09, 1.67)) #calc L1 gender
( age = runif(n_church*n_mbrs, 6.44, 93.93)) #calc L1 age
( education = runif(n_church*n_mbrs, 0, 8.46)) #calc L1 education
( attendance = runif(n_church*n_mbrs,5.11, 10.39)) #calc L1 attendance by grabbing  its M +/- 3SD
( homogeneity = rep (runif(n_church, .37, 1.45), each = n_mbrs)) #calc L2 homogeneity by grabbing  its M +/- 3SD
mu = 3.39
sds = .64 #this is the SD of the DV
sd = 1 #this is the observation-level random effect variance that we set at 1
( church = rep(LETTERS[1:n_church], each = n_mbrs) )
#( mbrs = numbers[1:(n_church*n_mbrs)] )
( churcheff = rnorm(n_church, 0, sds) )
( churcheff = rep(churcheff, each = n_mbrs) )
( mbrseff = rnorm(n_church*n_mbrs, 0, sd) )
( ATSS = b0 + b1*gender + b2*age + b3*education + b4*attendance + b5*homogeneity + churcheff + mbrseff)
( dat = data.frame(church, churcheff, mbrseff, gender, age, education, attendance, homogeneity, ATSS) )
library(dplyr)
dat <- dat %>% mutate(ID = row_number())
#moving the ID number to the first column; requires
dat <- dat%>%select(ID, everything())
Lefevor2020 <- dat%>%
select(ID, church, gender, age, education, attendance, homogeneity, ATSS)
#rounded gender into dichotomous variable
Lefevor2020$Female0 <- round(Lefevor2020$gender, 0)
Lefevor2020$Female0 <- as.integer(Lefevor2020$gender)
Lefevor2020$Female0 <- plyr::mapvalues(Lefevor2020$Female0, from = c(-1, 0, 1), to = c(0, 0, 1))
#( dat$ATSS = with(dat, mu + churcheff + mbrseff ) )
library(apaTables)
Lefevor_cor <- Lefevor2020%>%select(-ID, ATSS, Female0, age, education, attendance, homogeneity)
col_order <- c("ATSS", "Female0", "age", "education", "attendance", "homogeneity")
Lefevor_cor <- Lefevor_cor[, col_order]
apa.cor.table(Lefevor_cor)
# Import data
rel <- read.csv("/Users/Professional/Documents/Research Resources/Reserach Projects/*Completed Studies/Religiousness-Attitudes on Homosexuality/Data/Final Final Dataset.csv", header=TRUE)
set.seed(200407)
n_church = 15
n_mbrs = 15
b0 = 3.43 #intercept for ATSS
b1 = .14 #b weight for L1 var gender
b2 = .00 #b weight or L1 var age
b3 = .02 #b weight for L1 var education
b4 = .10 #b weight for the L1 variable religious attendance
b5 = -.89 #b weight for the L2 variable, racial homogeneity
( Gender = runif(n_church*n_mbrs, -1.09, 1.67)) #calc L1 gender
( Age = runif(n_church*n_mbrs, 6.44, 93.93)) #calc L1 age
( Education = runif(n_church*n_mbrs, 0, 8.46)) #calc L1 education
( Attendance = runif(n_church*n_mbrs,5.11, 10.39)) #calc L1 attendance by grabbing  its M +/- 3SD
( Homogeneity = rep (runif(n_church, .37, 1.45), each = n_mbrs)) #calc L2 homogeneity by grabbing  its M +/- 3SD
mu = 3.39
sds = .64 #this is the SD of the DV
sd = 1 #this is the observation-level random effect variance that we set at 1
( church = rep(LETTERS[1:n_church], each = n_mbrs) )
#( mbrs = numbers[1:(n_church*n_mbrs)] )
( churcheff = rnorm(n_church, 0, sds) )
( churcheff = rep(churcheff, each = n_mbrs) )
( mbrseff = rnorm(n_church*n_mbrs, 0, sd) )
( ATSS = b0 + b1*Gender + b2*Age + b3*Education + b4*Attendance + b5*Homogeneity + churcheff + mbrseff)
( dat = data.frame(church, churcheff, mbrseff, Gender, Age, Education, Attendance, Homogeneity, ATSS) )
library(dplyr)
dat <- dat %>% mutate(ID = row_number())
#moving the ID number to the first column; requires
dat <- dat%>%select(ID, everything())
Lefevor2020 <- dat%>%
select(ID, church, Gender, Age, Education, Attendance, Homogeneity, ATSS)
#rounded gender into dichotomous variable
Lefevor2020$Female0 <- round(Lefevor2020$gender, 0)
set.seed(200407)
n_church = 15
n_mbrs = 15
b0 = 3.43 #intercept for ATSS
b1 = .14 #b weight for L1 var gender
b2 = .00 #b weight or L1 var age
b3 = .02 #b weight for L1 var education
b4 = .10 #b weight for the L1 variable religious attendance
b5 = -.89 #b weight for the L2 variable, racial homogeneity
( Gender = runif(n_church*n_mbrs, -1.09, 1.67)) #calc L1 gender
( Age = runif(n_church*n_mbrs, 6.44, 93.93)) #calc L1 age
( Education = runif(n_church*n_mbrs, 0, 8.46)) #calc L1 education
( Attendance = runif(n_church*n_mbrs,5.11, 10.39)) #calc L1 attendance by grabbing  its M +/- 3SD
( Homogeneity = rep (runif(n_church, .37, 1.45), each = n_mbrs)) #calc L2 homogeneity by grabbing  its M +/- 3SD
mu = 3.39
sds = .64 #this is the SD of the DV
sd = 1 #this is the observation-level random effect variance that we set at 1
( church = rep(LETTERS[1:n_church], each = n_mbrs) )
#( mbrs = numbers[1:(n_church*n_mbrs)] )
( churcheff = rnorm(n_church, 0, sds) )
( churcheff = rep(churcheff, each = n_mbrs) )
( mbrseff = rnorm(n_church*n_mbrs, 0, sd) )
( ATSS = b0 + b1*Gender + b2*Age + b3*Education + b4*Attendance + b5*Homogeneity + churcheff + mbrseff)
( dat = data.frame(church, churcheff, mbrseff, Gender, Age, Education, Attendance, Homogeneity, ATSS) )
library(dplyr)
dat <- dat %>% mutate(ID = row_number())
#moving the ID number to the first column; requires
dat <- dat%>%select(ID, everything())
Lefevor2020 <- dat%>%
select(ID, church, Gender, Age, Education, Attendance, Homogeneity, ATSS)
#rounded gender into dichotomous variable
Lefevor2020$Female0 <- round(Lefevor2020$Gender, 0)
Lefevor2020$Female0 <- as.integer(Lefevor2020$Gender)
Lefevor2020$Female0 <- plyr::mapvalues(Lefevor2020$Female0, from = c(-1, 0, 1), to = c(0, 0, 1))
#( dat$ATSS = with(dat, mu + churcheff + mbrseff ) )
library(apaTables)
Lefevor_cor <- Lefevor2020%>%select(-ID, ATSS, Female0, Age, Education, Attendance, Homogeneity)
col_order <- c("ATSS", "Female0", "Age", "Education", "Attendance", "Homogeneity")
Lefevor_cor <- Lefevor_cor[, col_order]
apa.cor.table(Lefevor_cor)
Lefevor2020$AttendL1 <- as.numeric(group.center(Lefevor2020$Attendance, Lefevor2020$church))
if(!require(robumeta)){install.packages("robumeta")}
library(robumeta)
Lefevor2020$AttendL1 <- as.numeric(group.center(Lefevor2020$Attendance, Lefevor2020$church))
View(Lefevor2020)
library(robumeta)
Lefevor2020$AttendL1 <- as.numeric(group.center(Lefevor2020$Attendance, Lefevor2020$church))
Lefevor2020$AgeL1 <- as.numeric(group.center(Lefevor2020$Age, Lefevor2020$church))
Lefevor2020$Female0L1 <- as.numeric(group.center(Lefevor2020$Female0, Lefevor2020$church))
Lefevor2020$EducL1 <- as.numeric(group.center(Lefevor2020$Education, Lefevor2020$church))
Lefevor2020$AttendL2 <- as.numeric(group.center(Lefevor2020$Attendance, Lefevor2020$church) - mean(Lefevor2020$Attendance))
Lefevor2020$AttendL2 <- as.numeric(group.center(Lefevor2020$Attendance, Lefevor2020$church) - mean(Lefevor2020$Attendance, na.rm=TRUE))
Lefevor2020$AttendL2 <- as.numeric(group.center(Lefevor2020$Attendance, Lefevor2020$church) - mean(Lefevor2020$Attendance, na.rm=TRUE))
Lefevor2020$AgeL2 <- as.numeric(group.center(Lefevor2020$Age, Lefevor2020$church)- mean(Lefevor2020$Age, na.rm=TRUE))
Lefevor2020$Female0L2 <- as.numeric(group.center(Lefevor2020$Female0, Lefevor2020$church)- mean(Lefevor2020$Female0, na.rm=TRUE))
Lefevor2020$EducL2 <- as.numeric(group.center(Lefevor2020$Education, Lefevor2020$church)- mean(Lefevor2020$Education, na.rm=TRUE))
age <-(select (Lefevor2020,Attendance, AttendL1, AttendL2))
apa.cor.table(age)
attend <-(select (Lefevor2020,Attendance, AttendL1, AttendL2))
apa.cor.table(attend)
age <-(select (Lefevor2020, Age, AgeL1, AgeL2))
apa.cor.table(age)
female <-(select (Lefevor2020, Female0, Female0L1, Female0L2))
apa.cor.table(female)
education <-(select (Lefevor2020, Education, EducL1, EducL2))
apa.cor.table(education)
L1 <-(select (Lefevor2020, ATSS, Female0L1, AgeL1, Educ0L1, AttendL1, Female0L2, AgeL2, Educ0L2, AttendL2, Homogeneity))
L1 <-(select (Lefevor2020, ATSS, Female0L1, AgeL1, EducL1, AttendL1, Female0L2, AgeL2, Educ0L2, AttendL2, Homogeneity))
L1 <-(select (Lefevor2020, ATSS, Female0L1, AgeL1, EducL1, AttendL1, Female0L2, AgeL2, EducL2, AttendL2, Homogeneity))
apa.cor.table(L1)
bookdown:::mathquill()
citr:::insert_citation()
citr:::insert_citation()
citr:::insert_citation()
citr:::insert_citation()
citr:::insert_citation()
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(comment = NA) #keeps out the hashtags in the knits
#Hidden from the HTML presentation of the OER, this is the calculation of the range of the variables used in the simulation.
# Range of gender
.29 - (.46*3)
.29 + (.46*3)
#Range of age
50.13 - (14.6*3)
50.13 + (14.6*3)
#Range of education
3.96 - (1.5*3)
3.96 + (1.5*3)
# Range of religious attendance (M +/- [3*SD])
7.75 - (.88*3)
7.75 + (.88*3)
# Range of racial homogeneity (M +/- [3*SD])
.91 - (.18*3)
.91 + (.18*3)
set.seed(200407)
n_church = 15
n_mbrs = 15
b0 = 3.43 #intercept for ATSS
b1 = .14 #b weight for L1 var gender
b2 = .00 #b weight or L1 var age
b3 = .02 #b weight for L1 var education
b4 = .10 #b weight for the L1 variable religious attendance
b5 = -.89 #b weight for the L2 variable, racial homogeneity
( Gender = runif(n_church*n_mbrs, -1.09, 1.67)) #calc L1 gender
( Age = runif(n_church*n_mbrs, 6.44, 93.93)) #calc L1 age
( Education = runif(n_church*n_mbrs, 0, 8.46)) #calc L1 education
( Attendance = runif(n_church*n_mbrs,5.11, 10.39)) #calc L1 attendance by grabbing  its M +/- 3SD
( Homogeneity = rep (runif(n_church, .37, 1.45), each = n_mbrs)) #calc L2 homogeneity by grabbing  its M +/- 3SD
mu = 3.39
sds = .64 #this is the SD of the DV
sd = 1 #this is the observation-level random effect variance that we set at 1
( church = rep(LETTERS[1:n_church], each = n_mbrs) )
#( mbrs = numbers[1:(n_church*n_mbrs)] )
( churcheff = rnorm(n_church, 0, sds) )
( churcheff = rep(churcheff, each = n_mbrs) )
( mbrseff = rnorm(n_church*n_mbrs, 0, sd) )
( ATSS = b0 + b1*Gender + b2*Age + b3*Education + b4*Attendance + b5*Homogeneity + churcheff + mbrseff)
( dat = data.frame(church, churcheff, mbrseff, Gender, Age, Education, Attendance, Homogeneity, ATSS) )
library(dplyr)
dat <- dat %>% mutate(ID = row_number())
#moving the ID number to the first column; requires
dat <- dat%>%select(ID, everything())
Lefevor2020 <- dat%>%
select(ID, church, Gender, Age, Education, Attendance, Homogeneity, ATSS)
#rounded gender into dichotomous variable
Lefevor2020$Female0 <- round(Lefevor2020$Gender, 0)
Lefevor2020$Female0 <- as.integer(Lefevor2020$Gender)
Lefevor2020$Female0 <- plyr::mapvalues(Lefevor2020$Female0, from = c(-1, 0, 1), to = c(0, 0, 1))
#( dat$ATSS = with(dat, mu + churcheff + mbrseff ) )
citr:::insert_citation()
citr:::insert_citation()
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(comment = NA) #keeps out the hashtags in the knits
#Hidden from the HTML presentation of the OER, this is the calculation of the range of the variables used in the simulation.
# Range of gender
.29 - (.46*3)
.29 + (.46*3)
#Range of age
50.13 - (14.6*3)
50.13 + (14.6*3)
#Range of education
3.96 - (1.5*3)
3.96 + (1.5*3)
# Range of religious attendance (M +/- [3*SD])
7.75 - (.88*3)
7.75 + (.88*3)
# Range of racial homogeneity (M +/- [3*SD])
.91 - (.18*3)
.91 + (.18*3)
set.seed(200407)
n_church = 15
n_mbrs = 15
b0 = 3.43 #intercept for ATSS
b1 = .14 #b weight for L1 var gender
b2 = .00 #b weight or L1 var age
b3 = .02 #b weight for L1 var education
b4 = .10 #b weight for the L1 variable religious attendance
b5 = -.89 #b weight for the L2 variable, racial homogeneity
( Gender = runif(n_church*n_mbrs, -1.09, 1.67)) #calc L1 gender
( Age = runif(n_church*n_mbrs, 6.44, 93.93)) #calc L1 age
( Education = runif(n_church*n_mbrs, 0, 8.46)) #calc L1 education
( Attendance = runif(n_church*n_mbrs,5.11, 10.39)) #calc L1 attendance by grabbing  its M +/- 3SD
( Homogeneity = rep (runif(n_church, .37, 1.45), each = n_mbrs)) #calc L2 homogeneity by grabbing  its M +/- 3SD
mu = 3.39
sds = .64 #this is the SD of the DV
sd = 1 #this is the observation-level random effect variance that we set at 1
( church = rep(LETTERS[1:n_church], each = n_mbrs) )
#( mbrs = numbers[1:(n_church*n_mbrs)] )
( churcheff = rnorm(n_church, 0, sds) )
( churcheff = rep(churcheff, each = n_mbrs) )
( mbrseff = rnorm(n_church*n_mbrs, 0, sd) )
( ATSS = b0 + b1*Gender + b2*Age + b3*Education + b4*Attendance + b5*Homogeneity + churcheff + mbrseff)
( dat = data.frame(church, churcheff, mbrseff, Gender, Age, Education, Attendance, Homogeneity, ATSS) )
library(dplyr)
dat <- dat %>% mutate(ID = row_number())
#moving the ID number to the first column; requires
dat <- dat%>%select(ID, everything())
Lefevor2020 <- dat%>%
select(ID, church, Gender, Age, Education, Attendance, Homogeneity, ATSS)
#rounded gender into dichotomous variable
Lefevor2020$Female0 <- round(Lefevor2020$Gender, 0)
Lefevor2020$Female0 <- as.integer(Lefevor2020$Gender)
Lefevor2020$Female0 <- plyr::mapvalues(Lefevor2020$Female0, from = c(-1, 0, 1), to = c(0, 0, 1))
#( dat$ATSS = with(dat, mu + churcheff + mbrseff ) )
library(psych)
psych::pairs.panels(Lefevor2020[c("ATSS", "Attendance", "Homogeneity")], stars = TRUE)
psych::describe(Lefevor2020[c("ATSS", "Attendance", "Homogeneity")])
citr:::insert_citation()
View(Lefevor2020)
head(Lefevor2020)
?head
head(Lefevor2020, k=30)
?head
head(Lefevor2020, [30,])
head(Lefevor2020, n = 30L)
?head
head(Lefevor2020, n = 30L, c(ATSS, Attendance, Homogeneity))
head(Lefevor2020, n = 30L, c("ATSS", "Attendance", "Homogeneity"))
head(Lefevor2020[c("ATSS", "Attendance", "Homogeneity")], n = 30L))
head(Lefevor2020[c("ATSS", "Attendance", "Homogeneity")], n = 30L)
head(Lefevor2020[c("Church", "ATSS", "Attendance", "Homogeneity")], n = 30L)
head(Lefevor2020[c("church", "ATSS", "Attendance", "Homogeneity")], n = 30L)
citr:::insert_citation()
citr:::insert_citation()
library(robumeta)
Lefevor2020$ATSSL1 <- as.numeric(group.center(Lefevor2020$ATSS, Lefevor2020$church))#centered within context (group mean centering)
Lefevor2020$ATSSL2 <- as.numeric(group.mean(Lefevor2020$ATSS, Lefevor2020$church))#aggregated at group mean
Lefevor2020$AttendL1 <- as.numeric(group.center(Lefevor2020$Attendance, Lefevor2020$church))#centered within context (group mean centering)
Lefevor2020$AttendL2 <- as.numeric(group.mean(Lefevor2020$Attendance, Lefevor2020$church))#aggregated at group mean
head(Lefevor2020[c("church", "ATSS", "ATSSL1", "ATSSL2", "Attendance", "AttendL1", "AttendL2", "Homogeneity")], n = 30L)
psych::describe(Lefevor2020[c("ATSS", "ATSSL1", "ATSSL2", "Attendance", "AttendL1", "AttendL2", "Homogeneity")])
psych::describe(Lefevor2020[c("ATSS", "ATSSL1", "ATSSL2", "Attendance", "AttendL1", "AttendL2", "Homogeneity")])
psych::describeBy(Attendance + AttendL1 + AttendL2 + Homogeneity ~ church, data = Lefevor2020)
psych::describeBy(ATSS + ATSSL1 + ATSSL2 + Attendance + AttendL1 + AttendL2 + Homogeneity ~ church, data = Lefevor2020)
head(Lefevor2020[c("church", "ATSS", "Attendance", "AttendL1", "AttendL2", "Homogeneity")], n = 30L)
psych::describe(Lefevor2020[c("ATSS", "Attendance", "AttendL1", "AttendL2", "Homogeneity")])
psych::describeBy(ATSS + Attendance + AttendL1 + AttendL2 + Homogeneity ~ church, data = Lefevor2020)
#Multilevel level correlation matrix
apaTables::apa.cor.table(Lefevor2020[c(
"ATSS", "Attendance", "AttendL1", "AttendL2", "Homogeneity")], show.conf.interval = FALSE, landscape = TRUE, table.number = 1, filename="ML_CorMatrix.doc")
citr:::insert_citation()
citr:::insert_citation()
library(lme4)
Mod1 <- lmer(ATSS ~1 + (1 | church), REML = FALSE, data = Lefevor2020)
summary(Mod1)
AIC(Mod1) # request AIC
BIC(Mod1) # request BIC
library(nlme)
ModB1 <- lme(ATSS ~ 1, random = ~ 1|church, method="ML", na.action = na.omit, data = Lefevor2020)
summary(ModB1)
anova(ModB1) # request F-tests for fixed effects
library(lmerTest)
ranova(Mod1) # request test of random effects
confint(Mod1) # request test of random effects (variance displayed as SD)
# Extract Variances to compute R^2
var_table = as.data.frame(VarCorr(Mod1))
Mod1_var_tot = var_table[1,'vcov'] + var_table[2,'vcov'] # var_table[1,'vcov'] = L1 var; var_table[2,'vcov'] = L2 var;
library(sjPlot)
tab_model(Mod1, ModB1, p.style = "numeric", show.ci = FALSE, show.se = TRUE, show.df = FALSE, show.re.var = TRUE, show.aic = TRUE, show.dev = TRUE, use.viewer = TRUE, dv.labels = c("Mod1", "ModB1"))
#can swap this statement with the "file = "TabMod_Table"" to get Viewer output or the outfile that you can open in Word
#file = "TabMod_Table.doc"
getME(Mod1)
getME(Mod1, fixef)
getME(Mod1, "fixef")
getME(Mod1, "X")
formula(Mod1)
formula.merMod(Mod1)
citr:::insert_citation()
citr:::insert_citation()
library(sjPlot)
sjPlot::plot_model (Mod1, type="re")
1.13/(1.3+.27)
1.13/(1.13+.27)
.27/(1.13+.27)
1.00 - .19
install.packages("equatiomatic")
library(equatiomatic)
extract_eq(Mod1)
install.packages("equatiomatic")
library(equatiomatic)
extract_eq(Mod1, greek = "beta", show_distribution = FALSE, use_coefs = TRUE)
install.packages("equatiomatic")
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(comment = NA) #keeps out the hashtags in the knits
install.packages("equatiomatic")
library(equatiomatic)
extract_eq(Mod1, greek = "beta", show_distribution = FALSE, use_coefs = TRUE)
# MODEL 2
Mod2 <- lmer(ATSS ~ AttendL1 + (1 | church), REML=FALSE, data = Lefevor2020)
library(lme4)
library(nlme)
library(lmerTest)
library(sjPlot)
# MODEL 2
Mod2 <- lmer(ATSS ~ AttendL1 + (1 | church), REML=FALSE, data = Lefevor2020)
summary(Mod2)
AIC(Mod2) # request AIC
BIC(Mod2) # request BIC
ModB2 <- lme(ATSS ~  AttendL1, random = ~ 1|church, method="ML", na.action = na.omit, data =Lefevor2020)
summary(ModB2)
anova(Mod2) # request F-tests for fixed effects
ranova(Mod2) # request test of random effects
confint(Mod2) # request test of random effects (variance displayed as SD)
anova(Mod1, Mod2)
# Extract Variances to compute R^2
var_table = as.data.frame(VarCorr(Mod2))
Mod2_var_tot = var_table[1,'vcov'] + var_table[2,'vcov'] # var_table[1,'vcov'] = L1 var; var_table[2,'vcov'] = L2 var;
tab_model(Mod1, Mod2, p.style = "numeric", show.ci = FALSE, show.df = FALSE, show.re.var = TRUE, show.aic = TRUE, show.dev = TRUE, use.viewer = TRUE, dv.labels = c("ATSSm1", "ATSSm2"))
#can swap this statement with the "file = "TabMod_Table"" to get Viewer output or the outfile that you can open in Word
#file = "TabMod_Table.doc"
sjPlot::plot_model (Mod2, type="pred", terms= c("AttendL1"))
sjPlot::plot_model (Mod2, type="re")
sjPlot::plot_model (Mod2, type="diag")
library(sjPlot)
sjPlot::plot_model (Mod1, type="re")
library(sjPlot)
sjPlot::plot_model (Mod2, type="re")
# MODEL 3
Mod3 <- lmer(ATSS ~ AttendL1 + AttendL2 + Homogeneity + (1 | church), REML=FALSE, data = Lefevor2020)
summary(Mod3)
AIC(Mod3) # request AIC
BIC(Mod3) # request BIC
ModB3 <- lme(ATSS ~  AttendL1 +  AttendL2 + Homogeneity, random = ~ 1|church, method="ML", na.action = na.omit, data =Lefevor2020)
summary(Mod3)
anova(Mod3) # request F-tests for fixed effects
ranova(Mod3) # request test of random effects
confint(Mod3) # request test of random effects (variance displayed as SD)
anova(Mod1, Mod2, Mod3)
tab_model(Mod1, Mod2, Mod3, p.style = "numeric", show.ci = FALSE, show.df = FALSE, show.re.var = TRUE, show.aic = TRUE, show.dev = TRUE, use.viewer = TRUE, dv.labels = c("Mod1", "Mod2", "Mod3"))
#can swap this statement with the "file = "TabMod_Table"" to get Viewer output or the outfile that you can open in Word
#file = "TabMod_Table.doc"
sjPlot::plot_model (Mod3, type="pred")
sjPlot::plot_model (Mod3, type="pred",terms=c("AttendL1", "Homogeneity", "AttendL2"))
sjPlot::plot_model (Mod3, type="diag")
# MODEL 4
Mod4 <- lmer(ATSS ~ AttendL2 + AttendL1*Homogeneity +(1 | church), REML=FALSE, data = Lefevor2020)
summary(Mod4)
AIC(Mod4) # request AIC
BIC(Mod4) # request BIC
ModB3 <- lme(ATSS ~  AttendL2 + AttendL1*Homogeneity, random = ~ 1|church, method="ML", na.action = na.omit, data =Lefevor2020)
summary(Mod4)
anova(Mod4) # request F-tests for fixed effects
ranova(Mod4) # request test of random effects
confint(Mod4) # request test of random effects (variance displayed as SD)
anova(Mod1, Mod2, Mod3, Mod4)
tab_model(Mod1, Mod2, Mod3, Mod4, p.style = "numeric", show.ci = FALSE, show.df = FALSE, show.re.var = TRUE, show.aic = TRUE, show.dev = TRUE, use.viewer = TRUE, dv.labels = c("Mod1", "Mod2", "Mod3", "Mod4"))
#can swap this statement with the "file = "TabMod_Table"" to get Viewer output or the outfile that you can open in Word
#file = "TabMod_Table.doc"
sjPlot::plot_model (Mod4, type="pred",terms=c("AttendL1", "Homogeneity", "AttendL2"), mdrt.values = "meansd")
sjPlot::plot_model (Mod4, type="int", terms=c("AttendL1", "AttendL2", "Homogeneity"), mdrt.values = "meansd")
sjPlot::plot_model (Mod4, type="int", terms=c("AttendL1", "AttendL2", "Homogeneity"), mdrt.values = "meansd")
sjPlot::plot_model (Mod4, type="diag")
